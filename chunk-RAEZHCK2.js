import{a as y}from"./chunk-SN2NSAIS.js";import{a as $,b as H,c as J,d as K,e as Q,g as W,h as X,i as Y,j as Z,k as ee,l as te,m as ne}from"./chunk-HAB6W6VK.js";import"./chunk-FBGW7GLQ.js";import"./chunk-4PBOS6ET.js";import{m as E}from"./chunk-P3J2DO34.js";import{$ as z,$a as p,Aa as c,Ba as q,Ka as C,Na as u,R as L,Ra as h,Sa as A,Ta as U,Ua as j,Va as n,W as G,Wa as t,Xa as b,Ya as x,_ as v,ab as m,bb as o,cb as P,db as f,e as V,eb as B,gb as R,ia as d,ja as g,qa as _,ra as S}from"./chunk-6U5VWFB5.js";var M=class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=z({type:l});static \u0275inj=L({imports:[E,ne]})};function re(l,i){l&1&&(n(0,"div",6)(1,"div",7)(2,"label",18),o(3,"Fuente de recolecci\xF3n:"),t(),b(4,"input",19),t(),n(5,"div",7)(6,"label",20),o(7,"Actividad:"),t(),b(8,"input",21),t(),n(9,"div",7)(10,"label",22),o(11,"Color CIC:"),t(),b(12,"input",23),t()())}var O=class l{constructor(i){this.fb=i;this.geneForm=this.fb.group({id:[""],code:["",H.required],physiology:[""],taxonomy:[""],isolated:[""],activity:[""],color:[""],observations:[""]})}gene=S(null);closeForm=_();sendForm=_();geneForm;action="Agregar";dateInfo="12/01/2025";ngOnInit(){this.gene()&&(this.action="Editar",this.geneForm.patchValue(this.gene()))}onSubmit(){this.sendForm.emit(this.geneForm.value)}onCloseForm(){this.closeForm.emit()}static \u0275fac=function(e){return new(e||l)(q(te))};static \u0275cmp=v({type:l,selectors:[["gene-form"]],inputs:{gene:[1,"gene"]},outputs:{closeForm:"closeForm",sendForm:"sendForm"},decls:27,vars:5,consts:[[1,"microorganism-form","column","g-1","wd-100"],[1,"microorganism-form_title","color-genes"],[1,"form","column","g-1","wd-100",3,"formGroup"],[1,"field","column","wd-100"],["for","code"],["id","code","type","text","formControlName","code","required",""],[1,"field-group","column","wd-100","g-1"],[1,"field","column"],["for","physiology"],["id","physiology","type","text","formControlName","physiology","required",""],["for","taxonomy"],["id","taxonomy","type","text","formControlName","taxonomy","required",""],[1,"field","column","wd-50"],["for","observations"],["id","observations","type","text","formControlName","observations","required",""],[1,"field-group","column","wd-100","g-2"],["type","submit",1,"form-button","btn","btn-primary",3,"click","disabled"],[1,"form-button","btn","btn-secondary",3,"click"],["for","isolated"],["id","isolated","type","color","formControlName","isolated","required",""],["for","activity"],["id","activity","type","color","formControlName","activity","required",""],["for","color"],["id","color","type","color","formControlName","color","required",""]],template:function(e,a){if(e&1&&(n(0,"div",0)(1,"h2",1),o(2),t(),n(3,"form",2)(4,"div",3)(5,"label",4),o(6,"C\xF3digo:"),t(),b(7,"input",5),t(),n(8,"div",6)(9,"div",7)(10,"label",8),o(11,"Fisiolog\xEDa:"),t(),b(12,"input",9),t(),n(13,"div",7)(14,"label",10),o(15,"Taxonom\xEDa:"),t(),b(16,"input",11),t()(),n(17,"div",12)(18,"label",13),o(19,"Observaciones"),t(),b(20,"input",14),t(),C(21,re,13,0,"div",6),n(22,"div",15)(23,"button",16),p("click",function(){return a.onSubmit()}),o(24),t(),n(25,"button",17),p("click",function(){return a.onCloseForm()}),o(26," Volver "),t()()()()),e&2){let r;c(2),f(" ",a.gene()?"Editar":"Agregar"," Gen "),c(),u("formGroup",a.geneForm),c(18),h((r=a.gene())!=null&&r.id?21:-1),c(2),u("disabled",a.geneForm.invalid),c(),f(" ",a.gene()?"Actualizar":"Agregar"," ")}},dependencies:[Q,$,J,K,ee,W,X],styles:[".field[_ngcontent-%COMP%]{width:100%;gap:.5rem;align-items:start}input[_ngcontent-%COMP%]{width:100%;padding:.5rem 2rem;border-radius:.5rem;font-size:2rem;border:.2rem solid #003466}input[_ngcontent-%COMP%]:focus{outline:none;background:#003466;color:#fff}@media (min-width: 768px){.field-group[_ngcontent-%COMP%]{flex-direction:row}}"]})};function ae(l,i){if(l&1){let e=x();n(0,"section",0)(1,"h1",2),o(2),t(),n(3,"div",3)(4,"h2",4),o(5,"Informaci\xF3n general"),t(),n(6,"div",5)(7,"p")(8,"span",6),o(9,"Fisiolog\xEDa:"),t(),o(10),t(),n(11,"p")(12,"span",6),o(13,"Taxonom\xEDa:"),t(),o(14),t()()(),n(15,"div",3)(16,"h2",4),o(17,"Informaci\xF3n de la colecci\xF3n"),t(),n(18,"div",5)(19,"p")(20,"span",6),o(21,"Fuente de isolaci\xF3n:"),t(),o(22),t(),n(23,"p")(24,"span",6),o(25,"Actividad:"),t(),o(26),t()()(),n(27,"div",3)(28,"h2",4),o(29,"Datos adicionales"),t(),n(30,"div",5)(31,"p")(32,"span",6),o(33,"Observaciones:"),t(),o(34),t()()(),n(35,"button",7),p("click",function(){d(e);let r=m();return g(r.onCloseInfo())}),o(36,"Volver"),t()()}if(l&2){let e,a,r,s,N,k,w=m();c(2),f(" ",(e=w.geneInfo())==null?null:e.code," "),c(8),f(" ",(a=w.geneInfo())==null?null:a.physiology,""),c(4),f(" ",(r=w.geneInfo())==null?null:r.taxonomy,""),c(8),f(" ",(s=w.geneInfo())==null?null:s.isolated,""),c(4),f(" ",(N=w.geneInfo())==null?null:N.activity,""),c(8),f(" ",(k=w.geneInfo())==null?null:k.observations,"")}}function ce(l,i){l&1&&(n(0,"p",1),o(1,"No hay nada que mostrar..."),t())}var F=class l{geneInfo=S.required();closeInfo=_();onCloseInfo(){this.closeInfo.emit()}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=v({type:l,selectors:[["gene-info"]],inputs:{geneInfo:[1,"geneInfo"]},outputs:{closeInfo:"closeInfo"},decls:2,vars:1,consts:[[1,"microorganism-card","column","g-1","p-1"],[1,"empty-message"],[1,"microorganism-title"],[1,"microorganism-section","column","g-1"],[1,"section-title"],[1,"section-content","column","g-1"],[1,"label"],[1,"btn","btn-primary",3,"click"]],template:function(e,a){e&1&&C(0,ae,37,6,"section",0)(1,ce,2,0,"p",1),e&2&&h(a.geneInfo()?0:1)},styles:[".microorganism-card[_ngcontent-%COMP%]{width:100%;border:.1rem solid #003466;border-radius:1rem}.microorganism-card[_ngcontent-%COMP%]   .microorganism-title[_ngcontent-%COMP%]{color:#003466;border-bottom:.2rem solid #003466}.microorganism-card[_ngcontent-%COMP%]   .microorganism-section[_ngcontent-%COMP%]{width:100%}.microorganism-card[_ngcontent-%COMP%]   .microorganism-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#003466;border-bottom:.2rem solid #003466}.microorganism-card[_ngcontent-%COMP%]   .microorganism-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{width:100%;align-items:start}.microorganism-card[_ngcontent-%COMP%]   .microorganism-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;line-height:1.5;display:flex;justify-content:space-between}.microorganism-card[_ngcontent-%COMP%]   .microorganism-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;color:#76c04b}.empty-message[_ngcontent-%COMP%]{text-align:center;color:#f88d2b}@media (min-width: 768px){.microorganism-card[_ngcontent-%COMP%]{padding:2rem}.microorganism-card[_ngcontent-%COMP%]   .microorganism-title[_ngcontent-%COMP%]{font-size:2.4rem}.microorganism-card[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.7rem}}@media (min-width: 1024px){.microorganism-card[_ngcontent-%COMP%]   .microorganism-title[_ngcontent-%COMP%]{font-size:3rem}.microorganism-card[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.8rem}}"]})};function me(l,i){l&1&&(n(0,"p",6),o(1,"No hay genes que mostrar..."),t())}function de(l,i){if(l&1){let e=x();n(0,"tr")(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td",17)(8,"i",18),p("click",function(){let r=d(e).$implicit,s=m(2);return g(s.viewEntry(r.id))}),t(),n(9,"i",19),p("click",function(){let r=d(e).$implicit,s=m(2);return g(s.editEntry(r.id))}),t(),n(10,"i",20),p("click",function(){let r=d(e).$implicit,s=m(2);return g(s.deleteEntry(r.id))}),t()()()}if(l&2){let e=i.$implicit;c(2),P(e.code),c(2),P(e.taxonomy),c(2),P(e.physiology)}}function ge(l,i){if(l&1){let e=x();n(0,"div",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"th"),o(5,"C\xF3digo"),t(),n(6,"th"),o(7,"Taxonom\xEDa"),t(),n(8,"th"),o(9,"Fisiolog\xEDa"),t(),n(10,"th"),o(11,"Acciones"),t()()(),n(12,"tbody",10),U(13,de,11,3,"tr",null,A),t()()(),n(15,"div",11)(16,"button",12),p("click",function(){d(e);let r=m();return g(r.changePage(-1))}),o(17,"Anterior"),t(),n(18,"span"),o(19),t(),n(20,"button",12),p("click",function(){d(e);let r=m();return g(r.changePage(1))}),o(21,"Siguiente"),t(),n(22,"select",13),p("change",function(r){d(e);let s=m();return g(s.changePageSize(r))}),n(23,"option",14),o(24,"20"),t(),n(25,"option",15),o(26,"50"),t(),n(27,"option",16),o(28,"Todos"),t()()()}if(l&2){let e=m();c(13),j(e.geneList()),c(3),u("disabled",!e.hasPrevious()),c(3),B("P\xE1gina ",e.currentPage()," de ",e.totalPages(),""),c(),u("disabled",!e.hasNext()),c(7),u("value",e.totalRecords())}}var T=class l{geneList=S.required();searchTerm="";showInfo=_();filter=_();addNew=_();edit=_();delete=_();pageChange=_();pageSizeChange=_();geneService=G(y);get genes(){return this.geneService.getGenes()}get currentPage(){return this.geneService.currentPage}get totalPages(){return this.geneService.totalPages}get totalRecords(){return this.geneService.totalRecords}get hasPrevious(){return this.geneService.hasPrevious}get hasNext(){return this.geneService.hasNext}getSearchValue(i){let e=i.target;this.searchTerm=e.value.toLowerCase()}filterTable(){this.filter.emit(this.searchTerm)}addEntry(){this.addNew.emit()}viewEntry(i){this.showInfo.emit(i)}editEntry(i){this.edit.emit(i)}deleteEntry(i){this.delete.emit(i)}changePage(i){this.pageChange.emit(i)}changePageSize(i){let e=i.target;this.pageSizeChange.emit(parseInt(e.value))}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=v({type:l,selectors:[["gene-list"]],inputs:{geneList:[1,"geneList"]},outputs:{showInfo:"showInfo",filter:"filter",addNew:"addNew",edit:"edit",delete:"delete",pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:9,vars:1,consts:[[1,"table","column","g-1","wd-100","p-1"],[1,"table-controls","column","g-1","wd-100"],[1,"btn","btn-genes","add-btn",3,"click"],[1,"table-controls_filter","row"],["type","text","placeholder","Buscar...",1,"search-bar","wd-100",3,"change"],[1,"fa-solid","fa-magnifying-glass","row","pointer",3,"click"],[1,"row","wd-100","accent"],[1,"control-overflow","wd-100"],[1,"table-responsive","wd-100"],[1,"bg-primary","color-white","text-center"],[1,"text-center"],[1,"pagination-controls","row","g-1"],[1,"btn","btn-primary",3,"click","disabled"],[3,"change"],["value","20"],["value","50"],[3,"value"],[1,"action-icons","row","g-1"],[1,"fa-regular","fa-eye","pointer","icon",3,"click"],[1,"fa-solid","fa-pen","pointer","icon",3,"click"],[1,"fa-solid","fa-trash","pointer","icon",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),p("click",function(){return a.addEntry()}),o(3,"Agregar Entrada"),t(),n(4,"div",3)(5,"input",4),p("change",function(s){return a.getSearchValue(s)}),t(),n(6,"i",5),p("click",function(){return a.filterTable()}),t()()(),C(7,me,2,0,"p",6)(8,ge,29,5),t()),e&2&&(c(7),h(a.geneList().length<=0?7:8))},dependencies:[Y,Z],styles:[".table-controls[_ngcontent-%COMP%]{justify-content:space-between}.table-controls[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .table-controls[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%], .table-controls_filter[_ngcontent-%COMP%]{width:100%}.table-controls[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .table-controls[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{font-size:1.8rem}.table-controls[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{padding:.5rem;border:.1rem solid #003466;border-top-left-radius:.5rem;border-bottom-left-radius:.5rem}.table-responsive[_ngcontent-%COMP%]{border-collapse:collapse}.table-responsive[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}@media (min-width: 768px){.table-controls[_ngcontent-%COMP%]{width:100%;flex-direction:row-reverse;justify-content:space-between}.table-controls[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .table-controls[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%], .table-controls_filter[_ngcontent-%COMP%]{width:fit-content}}.control-overflow[_ngcontent-%COMP%]{height:30rem;overflow-y:scroll;scrollbar-color:#003466 #cccccc;scrollbar-width:thin}.icon[_ngcontent-%COMP%]{color:#003466}.fa-trash.icon[_ngcontent-%COMP%]{color:#f02121}.fa-magnifying-glass[_ngcontent-%COMP%]{width:3rem;height:3.4rem;padding:.5rem;border-top-right-radius:.5rem;border-bottom-right-radius:.5rem;display:flex;background:#003466;color:#fff}"]})};function _e(l,i){if(l&1){let e=x();n(0,"gene-form",2),p("closeForm",function(){d(e);let r=m();return g(r.closeForm())})("sendForm",function(r){d(e);let s=m();return g(s.onSubmit(r))}),t()}if(l&2){let e=m();u("gene",e.selectedGene)}}function ue(l,i){if(l&1){let e=x();n(0,"gene-info",4),p("closeInfo",function(){d(e);let r=m(2);return g(r.closeInfo())}),t()}if(l&2){let e=m(2);u("geneInfo",e.selectedGene)}}function fe(l,i){if(l&1){let e=x();n(0,"div",5)(1,"h2",6),o(2,"Colecci\xF3n Cient\xEDfica"),t(),n(3,"h3",7),o(4,"Bibliotecas de ADN para tamizaje biotecnol\xF3gico"),t()(),n(5,"div",8)(6,"p",9),o(7," En este m\xF3dulo podr\xE1 tener acceso a la base de datos de los genes registrados por la CIC. Por favor, tenga en cuenta que no todos los genes registrados por la CIC se encuentran en esta base de datos. "),t(),n(8,"p",9),o(9," Actualmente la CIC cuenta con un total de "),n(10,"span",10),o(11),t(),o(12," registros de genes. "),t()(),n(13,"gene-list",11),p("showInfo",function(r){d(e);let s=m(2);return g(s.onShowingInfo(r))})("addNew",function(){d(e);let r=m(2);return g(r.onAdd())})("delete",function(r){d(e);let s=m(2);return g(s.onDelete(r))})("edit",function(r){d(e);let s=m(2);return g(s.onEdit(r))})("filter",function(r){d(e);let s=m(2);return g(s.onFilter(r))})("pageChange",function(r){d(e);let s=m(2);return g(s.changePage(r))})("pageSizeChange",function(r){d(e);let s=m(2);return g(s.changePageSize(r))}),t()}if(l&2){let e=m(2);c(11),P(e.totalRecords),c(2),u("geneList",e.genes)}}function Ce(l,i){if(l&1&&C(0,ue,1,1,"gene-info",3)(1,fe,14,2),l&2){let e=m();h(e.isShowingInfo?0:1)}}var ie=class l{selectedGene=null;isShowingInfo=!1;isShowingForm=!1;geneService=G(y);get genes(){return this.geneService.getGenes()}get totalRecords(){return this.geneService.totalRecords()}onAdd(){this.isShowingForm=!this.isShowingForm}onEdit(i){this.geneService.getGeneById(i).subscribe(e=>{e&&this.sentGeneUpdate(e)})}sentGeneUpdate(i){this.selectedGene=i,this.isShowingForm=!this.isShowingForm}onDelete(i){return V(this,null,function*(){this.geneService.deleteGene(i)})}onFilter(i){return V(this,null,function*(){this.geneService.getGeneByTaxonomy(i)})}changePage(i){let e=this.geneService.currentPage()+i;this.geneService.currentPage.set(e),this.geneService.listGenes()}changePageSize(i){this.geneService.pageSize.set(i),this.geneService.currentPage.set(1),this.geneService.listGenes()}onShowingInfo(i){this.geneService.getGeneById(i).subscribe(e=>{e&&(this.selectedGene=e,this.isShowingInfo=!this.isShowingInfo)})}closeInfo(){this.isShowingInfo=!this.isShowingInfo,this.selectedGene=null}closeForm(){this.isShowingForm=!this.isShowingForm,this.selectedGene=null}onSubmit(i){"id"in i&&i.id?this.geneService.updateGene(i):this.geneService.createGene(i),this.closeForm()}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=v({type:l,selectors:[["app-gene"]],standalone:!0,features:[R],decls:3,vars:1,consts:[[1,"gene","column","g-3","wd-100"],[3,"gene"],[3,"closeForm","sendForm","gene"],[1,"row","wd-100",3,"geneInfo"],[1,"row","wd-100",3,"closeInfo","geneInfo"],[1,"gene-heading","column","wd-100"],[1,"color-genes"],[1,"accent","color-genes"],[1,"gene-content","column","g-1"],[1,"gene-content_text"],[1,"strong","color-genes","accent"],[1,"row","wd-100",3,"showInfo","addNew","delete","edit","filter","pageChange","pageSizeChange","geneList"]],template:function(e,a){e&1&&(n(0,"section",0),C(1,_e,1,1,"gene-form",1)(2,Ce,2,1),t()),e&2&&(c(),h(a.isShowingForm?1:2))},dependencies:[E,M,O,F,T],styles:[".gene[_ngcontent-%COMP%]{width:35rem;padding:1rem;margin:0 auto}.gene-heading[_ngcontent-%COMP%]{font-size:2.4rem;border-bottom:.2rem solid #76c04b}.gene-heading[_ngcontent-%COMP%]:before{background-color:#76c04b}.gene-content_text[_ngcontent-%COMP%]{width:100%;text-align:start;font-size:1.8rem}@media (min-width: 480px){.gene[_ngcontent-%COMP%]{width:100%}}@media (min-width: 768px){.gene[_ngcontent-%COMP%]{padding:1.5rem}.gene-heading[_ngcontent-%COMP%]{font-size:2.8rem;border-bottom:.3rem solid #76c04b}.gene-content_text[_ngcontent-%COMP%]:last-child{text-align:center}}@media (min-width: 1024px){.gene[_ngcontent-%COMP%]{padding:2rem}.gene-heading[_ngcontent-%COMP%]{font-size:4rem;border-bottom:.5rem solid #76c04b}}"]})};export{ie as GeneComponent};
